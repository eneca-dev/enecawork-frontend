# EnecaWork

Проект для управления рабочими процессами.

## Настройка проекта

### Установка зависимостей

```bash
npm install
```

### Запуск в режиме разработки

```bash
npm run dev
```

### Сборка для продакшена

```bash
npm run build
```

### Запуск продакшен-версии

```bash
npm start
```

## API

Проект использует API, расположенное по адресу:
```
https://enecawork-a6349fc0ebf0.herokuapp.com
```

### Основные эндпоинты API

#### Аутентификация

- **POST /auth/register** - Регистрация нового пользователя
- **POST /auth/login** - Вход в систему
- **POST /auth/reset-password** - Запрос на сброс пароля
- **POST /auth/update-password** - Обновление пароля
- **POST /auth/refresh-token** - Обновление токена доступа

## Система аутентификации

### Токены

Приложение использует два типа токенов:
- **Access Token** - Короткоживущий токен для доступа к API
- **Refresh Token** - Долгоживущий токен для обновления Access Token

### Автоматическое обновление токенов

Реализована система автоматического обновления токенов:
1. При истечении срока действия Access Token, приложение автоматически использует Refresh Token для получения нового Access Token
2. Если Refresh Token также истек, пользователь перенаправляется на страницу входа
3. Все запросы к API автоматически включают актуальный Access Token

### Защита маршрутов

Для защиты маршрутов, требующих аутентификации, используется компонент `AuthGuard`, который:
1. Проверяет наличие и валидность токенов
2. При необходимости обновляет токены
3. Перенаправляет неавторизованных пользователей на страницу входа

## Переменные окружения

Для работы с API необходимо создать файл `.env.local` со следующим содержимым:

```
NEXT_PUBLIC_API_URL=https://enecawork-a6349fc0ebf0.herokuapp.com
``` 